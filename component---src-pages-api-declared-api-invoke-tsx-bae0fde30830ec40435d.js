(self.webpackChunkpapupata_docs=self.webpackChunkpapupata_docs||[]).push([[6443],{1040:function(t,n,e){"use strict";e.d(n,{P:function(){return a}});var a=e(7294).createContext(!1)},2275:function(t,n,e){"use strict";e.d(n,{Z:function(){return d}});var a,l,r=e(5761),u=e(7294),i=e(3583),o=e(3431),s=i.ZP.div(a||(a=(0,r.Z)(["\n  border-left: 4px solid #663399;\n  padding: 5px 0 5px 10px;\n"]))),c=i.ZP.div(l||(l=(0,r.Z)(["\n  display: inline-block;\n  margin-left: 10px;\n  font-size: 0.9em;\n"])));function d(t){var n=t.variants,e=t.isRecommendation,a=(0,u.useState)("2.x"),l=a[0],r=a[1],i=(0,u.useCallback)((function(t){r(t.target.value)}),[]);return(0,o.tZ)(s,null,(0,o.tZ)("select",{value:l,onChange:i},(0,o.tZ)("option",{value:"1.x"},"Papupata 1.x"),(0,o.tZ)("option",{value:"2.x"},"Papupata 2.x")),e&&(0,o.tZ)(c,null,"Older styles are still supported in later versions, just not preferred."),Object.keys(n).filter((function(t){return function(t,n){return"*"===n||n===t}(l,t)})).map((function(t){return(0,o.tZ)("div",{key:t},n[t])})))}},1724:function(t,n,e){"use strict";e.d(n,{$0:function(){return y},OT:function(){return b},ag:function(){return A},cY:function(){return x},l1:function(){return I},aE:function(){return T},d2:function(){return q},pR:function(){return k},by:function(){return w},yV:function(){return C},en:function(){return D},iT:function(){return R},Vo:function(){return O},lS:function(){return U}});var a,l,r,u,i,o,s,c,d,p=e(5761),Z=e(3583),f=e(7294),m=e(1808),h=e(1040),v=e(3431),y=Z.ZP.section(a||(a=(0,p.Z)([""]))),b=Z.ZP.h4(l||(l=(0,p.Z)([""]))),P=Z.ZP.h5(r||(r=(0,p.Z)([""]))),g=Z.ZP.section(u||(u=(0,p.Z)(["\n  padding: 15px 30px;\n  background: lightyellow;\n"]))),A=function(t){var n=t.children;return(0,v.tZ)(y,null,(0,v.tZ)(b,null,"Purpose"),n)},x=function(t){var n=t.version;return(0,v.tZ)(y,null,(0,v.tZ)(b,null,"Availability"),"This functionality is available from papupata version ",n," onwards.")},I=function(t){var n=t.children;return(0,v.tZ)(y,null,(0,v.tZ)(b,null,"Usage"),n)},T=function(t){var n=t.children,e=t.includeAvailableFrom,a=t.label;return(0,v.tZ)(y,null,(0,v.tZ)(h.P.Provider,{value:!!e},(0,v.tZ)(b,null,"Parameters",a&&": "+a),n?(0,v.tZ)("table",null,(0,v.tZ)("thead",null,(0,v.tZ)("tr",null,(0,v.tZ)("th",null,"Name"),(0,v.tZ)("th",null,"Type"),(0,v.tZ)("th",null,"Description"),e&&(0,v.tZ)("th",null,"Introduced in"))),(0,v.tZ)("tbody",null,n)):(0,v.tZ)("p",null,"There are no parameters.")))},q=function(t){var n=t.children,e=t.name,a=t.dataType,l=t.availableFrom,r=void 0===l?"1.0.0":l,u=f.useContext(h.P);return(0,v.tZ)("tr",null,(0,v.tZ)("td",null,e),(0,v.tZ)("td",null,a),(0,v.tZ)("td",null,n),u&&(0,v.tZ)("td",null,r))},k=function(t){var n=t.children;return(0,v.tZ)(y,null,(0,v.tZ)(b,null,"Returns"),n)},w=function(t){var n=t.children;return(0,v.tZ)(y,null,(0,v.tZ)(b,null,"Caveats"),n)},C=function(t){var n=t.children;return(0,v.tZ)(y,null,(0,v.tZ)(b,null,"Examples"),n)},D=function(t){var n=t.children,e=t.label;return(0,v.tZ)(f.Fragment,null,e&&(0,v.tZ)(P,null,e),(0,v.tZ)(m.E,{language:"typescript"},n))},R=function(t){var n=t.children;return(0,v.tZ)(g,null,(0,v.tZ)(P,null,"Common to examples below:"),n)},O=function(t){var n=t.children,e=t.includeAvailableFrom;return(0,v.tZ)(y,null,(0,v.tZ)(b,null,"Type parameeters"),(0,v.tZ)(h.P.Provider,{value:!!e},(0,v.tZ)(b,null,"Parameters"),n?(0,v.tZ)("table",null,(0,v.tZ)("thead",null,(0,v.tZ)("tr",null,(0,v.tZ)("th",null,"Name"),(0,v.tZ)("th",null,"Default value"),(0,v.tZ)("th",null,"Description"),e?(0,v.tZ)("th",null,"Introduced in"):"")),(0,v.tZ)("tbody",null,n)):(0,v.tZ)("p",null,"There are no parameters.")))},j=Z.ZP.tr(i||(i=(0,p.Z)([""]))),E=Z.ZP.td(o||(o=(0,p.Z)([""]))),F=Z.ZP.td(s||(s=(0,p.Z)([""]))),S=Z.ZP.td(c||(c=(0,p.Z)([""]))),V=Z.ZP.td(d||(d=(0,p.Z)([""]))),U=function(t){var n=t.children,e=t.name,a=t.defaultValue,l=t.availableFrom,r=void 0===l?"none":l,u=f.useContext(h.P);return(0,v.tZ)(j,null,(0,v.tZ)(E,null,e),(0,v.tZ)(F,null,a),(0,v.tZ)(S,null,n),u?(0,v.tZ)(V,null,r):"")}},7195:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return c}});e(1879);var a=e(7100),l=e(7614),r=e(832),u=e(1724),i=(e(7294),e(2275)),o=e(3431),s="Options passed to the request. These have no inherent meaning in papupata, but can be used by\nthe requestAdapter function defined by the application. The type of this parameter is set by the RequestOptions type parameter\nof the API declaration.\n";function c(){return(0,o.tZ)(a.Z,null,(0,o.tZ)(l.Z,null,(0,o.tZ)(r.Z,null,(0,o.tZ)("h1",null,"API Reference"),(0,o.tZ)("h2",null,"class DeclaredAPI"),(0,o.tZ)("h3",null,"method invoke")),(0,o.tZ)(u.ag,null,"Calls the declared API"),(0,o.tZ)(u.l1,null,"In the simplest for mall query parameters (including body) are passed as a single object. The invocation mechanisms spreads them out to the declared containers automatically. There are overload for different uses, however, listed below."),(0,o.tZ)(u.aE,{label:"All parameters in one"},(0,o.tZ)(u.d2,{name:"params",dataType:"Object"},"All parameters to the API"),(0,o.tZ)(u.d2,{name:"requestOptions",dataType:"varies"},s)),(0,o.tZ)(u.aE,{label:"Separate body"},(0,o.tZ)(u.d2,{name:"body",dataType:"Varies"},"Body to be sent to the API. The data type is specified by the route."),(0,o.tZ)(u.d2,{name:"params",dataType:"Object"},"All parameters to the API, excluding body"),(0,o.tZ)(u.d2,{name:"requestOptions",dataType:"varies"},s)),(0,o.tZ)(u.pR,null,"Promise<ResponseType>"),(0,o.tZ)(u.by,null,(0,o.tZ)("ul",null,(0,o.tZ)("li",null,"Base URL and requestAdapter function must be configured or the function will throw."),(0,o.tZ)("li",null,"There is no validation for the data returned by the server, it is assumed to be of the correct shape"),(0,o.tZ)("li",null,"Error handling is adapter-dependant."))),(0,o.tZ)(u.yV,null," ",(0,o.tZ)(i.Z,{isRecommendation:!0,variants:{"1.x":(0,o.tZ)(u.en,{label:"Declaration"},"\n                    import { APIDeclaration } from 'papupata'\n                    const api = new APIDeclaration()\n                    const myAPI = api.declarePostAPI('/do-stuff/:param')\n                      .params(['param'] as const)\n                      .query(['q'] as const)\n                      .body<{key: string}>()\n                      .response<string>()\n                  "),"2.x":(0,o.tZ)(u.en,{label:"Declaration"},"\n                    import { APIDeclaration } from 'papupata'\n                    const api = new APIDeclaration()\n                    const myAPI = api.declarePostAPI('/do-stuff/:param')\n                      .params({param: String})\n                      .query({q: String})\n                      .body<{key: string}>()\n                      .response<string>()\n                  ")}}),(0,o.tZ)(u.en,{label:"Usage in implementation"},"\n            myAPI.implement(req => {\n              const {q} = req.query,\n                {param} = req.params,\n                {key} = req.body\n              return [param, q, key].join()\n            })\n          "),(0,o.tZ)(u.en,{label:"Usage in invocation"},"\n            const response = await myAPI({param: 'abc', q: 'def', key: 'ghi'})\n            // Response in the example will be abc,def,ghi\n          "))))}},1879:function(t,n,e){"use strict";e(7614),e(832),e(7100)}}]);
//# sourceMappingURL=component---src-pages-api-declared-api-invoke-tsx-bae0fde30830ec40435d.js.map