(self.webpackChunkpapupata_docs=self.webpackChunkpapupata_docs||[]).push([[9924],{1040:function(t,n,e){"use strict";e.d(n,{P:function(){return r}});var r=e(7294).createContext(!1)},2275:function(t,n,e){"use strict";e.d(n,{Z:function(){return c}});var r,u,l=e(6848),a=e(7294),o=e(366),i=e(3431),s=o.ZP.div(r||(r=(0,l.Z)(["\n  border-left: 4px solid #663399;\n  padding: 5px 0 5px 10px;\n"]))),p=o.ZP.div(u||(u=(0,l.Z)(["\n  display: inline-block;\n  margin-left: 10px;\n  font-size: 0.9em;\n"])));function c(t){var n=t.variants,e=t.isRecommendation,r=(0,a.useState)("2.x"),u=r[0],l=r[1],o=(0,a.useCallback)((function(t){l(t.target.value)}),[]);return(0,i.tZ)(s,null,(0,i.tZ)("select",{value:u,onChange:o},(0,i.tZ)("option",{value:"1.x"},"Papupata 1.x"),(0,i.tZ)("option",{value:"2.x"},"Papupata 2.x")),e&&(0,i.tZ)(p,null,"Older styles are still supported in later versions, just not preferred."),Object.keys(n).filter((function(t){return function(t,n){return"*"===n||n===t}(u,t)})).map((function(t){return(0,i.tZ)("div",{key:t},n[t])})))}},1724:function(t,n,e){"use strict";e.d(n,{$0:function(){return P},OT:function(){return x},ag:function(){return y},cY:function(){return b},l1:function(){return I},aE:function(){return A},d2:function(){return w},pR:function(){return q},by:function(){return T},yV:function(){return S},en:function(){return D},iT:function(){return R},Vo:function(){return C},lS:function(){return V}});var r,u,l,a,o,i,s,p,c,Z=e(6848),d=e(366),f=e(7294),m=e(1808),v=e(1040),h=e(3431),P=d.ZP.section(r||(r=(0,Z.Z)([""]))),x=d.ZP.h4(u||(u=(0,Z.Z)([""]))),k=d.ZP.h5(l||(l=(0,Z.Z)([""]))),g=d.ZP.section(a||(a=(0,Z.Z)(["\n  padding: 15px 30px;\n  background: lightyellow;\n"]))),y=function(t){var n=t.children;return(0,h.tZ)(P,null,(0,h.tZ)(x,null,"Purpose"),n)},b=function(t){var n=t.version;return(0,h.tZ)(P,null,(0,h.tZ)(x,null,"Availability"),"This functionality is available from papupata version ",n," onwards.")},I=function(t){var n=t.children;return(0,h.tZ)(P,null,(0,h.tZ)(x,null,"Usage"),n)},A=function(t){var n=t.children,e=t.includeAvailableFrom,r=t.label;return(0,h.tZ)(P,null,(0,h.tZ)(v.P.Provider,{value:!!e},(0,h.tZ)(x,null,"Parameters",r&&": "+r),n?(0,h.tZ)("table",null,(0,h.tZ)("thead",null,(0,h.tZ)("tr",null,(0,h.tZ)("th",null,"Name"),(0,h.tZ)("th",null,"Type"),(0,h.tZ)("th",null,"Description"),e&&(0,h.tZ)("th",null,"Introduced in"))),(0,h.tZ)("tbody",null,n)):(0,h.tZ)("p",null,"There are no parameters.")))},w=function(t){var n=t.children,e=t.name,r=t.dataType,u=t.availableFrom,l=void 0===u?"1.0.0":u,a=f.useContext(v.P);return(0,h.tZ)("tr",null,(0,h.tZ)("td",null,e),(0,h.tZ)("td",null,r),(0,h.tZ)("td",null,n),a&&(0,h.tZ)("td",null,l))},q=function(t){var n=t.children;return(0,h.tZ)(P,null,(0,h.tZ)(x,null,"Returns"),n)},T=function(t){var n=t.children;return(0,h.tZ)(P,null,(0,h.tZ)(x,null,"Caveats"),n)},S=function(t){var n=t.children;return(0,h.tZ)(P,null,(0,h.tZ)(x,null,"Examples"),n)},D=function(t){var n=t.children,e=t.label;return(0,h.tZ)(f.Fragment,null,e&&(0,h.tZ)(k,null,e),(0,h.tZ)(m.E,{language:"typescript"},n))},R=function(t){var n=t.children;return(0,h.tZ)(g,null,(0,h.tZ)(k,null,"Common to examples below:"),n)},C=function(t){var n=t.children,e=t.includeAvailableFrom;return(0,h.tZ)(P,null,(0,h.tZ)(x,null,"Type parameeters"),(0,h.tZ)(v.P.Provider,{value:!!e},(0,h.tZ)(x,null,"Parameters"),n?(0,h.tZ)("table",null,(0,h.tZ)("thead",null,(0,h.tZ)("tr",null,(0,h.tZ)("th",null,"Name"),(0,h.tZ)("th",null,"Default value"),(0,h.tZ)("th",null,"Description"),e?(0,h.tZ)("th",null,"Introduced in"):"")),(0,h.tZ)("tbody",null,n)):(0,h.tZ)("p",null,"There are no parameters.")))},F=d.ZP.tr(o||(o=(0,Z.Z)([""]))),O=d.ZP.td(i||(i=(0,Z.Z)([""]))),j=d.ZP.td(s||(s=(0,Z.Z)([""]))),E=d.ZP.td(p||(p=(0,Z.Z)([""]))),U=d.ZP.td(c||(c=(0,Z.Z)([""]))),V=function(t){var n=t.children,e=t.name,r=t.defaultValue,u=t.availableFrom,l=void 0===u?"none":u,a=f.useContext(v.P);return(0,h.tZ)(F,null,(0,h.tZ)(O,null,e),(0,h.tZ)(j,null,r),(0,h.tZ)(E,null,n),a?(0,h.tZ)(U,null,l):"")}},3907:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return s}});e(1879),e(7294);var r=e(1724),u=e(832),l=e(7614),a=e(2275),o=e(387),i=e(3431);function s(){return(0,i.tZ)(o.Z,null,(0,i.tZ)(l.Z,null,(0,i.tZ)(u.Z,null,(0,i.tZ)("h1",null,"API Reference"),(0,i.tZ)("h2",null,"module supertestInvoker"),(0,i.tZ)("h3",null,"Default export invokeSupertest")),(0,i.tZ)(r.ag,null,"This module allows you to use supertest to make papupata API requests, while gaining access to the actual supertest request for things like setting up headers and making detailed assertions on the response."),(0,i.tZ)(r.cY,{version:"1.5.0"}),(0,i.tZ)(r.l1,null,(0,i.tZ)(a.Z,{variants:{"1.x":(0,i.tZ)(r.en,null,"import invokeSupertest from 'papupata/dist/main/supertestInvoker'"),"2.x":(0,i.tZ)(r.en,null,"import invokeSupertest from 'papupata/invokers/supertest'")}}),(0,i.tZ)("p",null,"To begin with, you'll want to set up a supertest request for your express application. Once done, you can create a supertest papupata adapter to start making API calls."),(0,i.tZ)("p",null,"Do note that you'll almost certainly want to configure papupata with a blank base URL to make things work.")),(0,i.tZ)(r.aE,null,(0,i.tZ)(r.d2,{name:"supertestRequest",dataType:"Supertest request"},"Supertest request"),(0,i.tZ)(r.d2,{name:"api",dataType:"DeclaredAPI"},"The papupata API you wish to invoke"),(0,i.tZ)(r.d2,{name:"args",dataType:"Object"},"The arguments to the API call, just as you'd pass to the API call normally.")),(0,i.tZ)(r.pR,null,"Papupata MakeRequestAdapter"),(0,i.tZ)(r.yV,null,(0,i.tZ)(a.Z,{variants:{"1.x":(0,i.tZ)(r.en,null,"\n                  import { APIDeclaration } from 'papupata'\n                  import invokeSupertest from 'papupata/dist/main/supertestInvoker'\n                  import express from 'express'\n                  import supertest from 'supertest'\n\n                  const app = express()\n                  const request = supertest(app)\n                  const API = new APIDeclaration()\n                  API.configure({\n                    app,\n                    baseURL: ''\n                  })\n                  const api = API.declareGetAPI('/:id').params(['id'] as const).response<string>\n\n                  const req = invokeSupertest(request, api, {id: 'foo'})\n                  await req.expect(200)\n               "),"2.x":(0,i.tZ)(r.en,null,"\n                  import { APIDeclaration } from 'papupata'\n                  import invokeSupertest from 'papupata/invokers/supertest'\n                  import express from 'express'\n                  import supertest from 'supertest'\n\n                  const app = express()\n                  const request = supertest(app)\n                  const API = new APIDeclaration()\n                  API.configure({\n                    app,\n                    baseURL: ''\n                  })\n                  const api = API.declareGetAPI('/:id').params({id: String}).response<string>\n\n                  const req = invokeSupertest(request, api, {id: 'foo'})\n                  await req.expect(200)\n                ")}}))))}}}]);
//# sourceMappingURL=component---src-pages-api-supertest-invoker-tsx-d2780794879691cee703.js.map