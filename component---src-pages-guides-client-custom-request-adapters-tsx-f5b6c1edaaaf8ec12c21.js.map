{"version":3,"sources":["webpack:///./src/pages/guides/client/customRequestAdapters.tsx","webpack:///./src/components/guides.tsx","webpack:///./node_modules/core-js/modules/es6.string.anchor.js"],"names":["IndexPage","content","heading","anchor","Overview","children","Level0","styled","h4","Level1","h5","GuideContent","map","child","style","marginLeft","level","key","href","Heading","id","FixedFont","span","createHTML","name","this"],"mappings":"2FAAA,sEAgJeA,UAxIG,kBAChB,YAAC,IAAD,KACE,YAAC,IAAD,KACE,YAAC,IAAD,KACE,wDACA,YAAC,IAAD,6LAIA,YAAC,IAAD,CACEC,QAAS,CACP,CACEC,QAAS,aACTC,OAAQ,SACRF,QACE,4BACE,gOAIA,YAAC,IAAD,qbAWA,+JAIA,yBACE,yBACE,8BACA,uCAEF,yBACE,sBACE,gCACA,6QAMF,sBACE,6BACA,sBACE,2RAKA,kEAC4C,YAAC,IAAD,WAD5C,uDAIA,YAAC,IAAD,wKAOJ,sBACE,+BACA,+RAGyC,YAAC,IAAD,WAHzC,cAG6E,YAAC,IAAD,gBAH7E,MAMF,sBACE,8BACA,oNAE2E,YAAC,IAAD,uBAF3E,qEAMF,sBACE,gCACA,6WAMF,sBACE,6BACA,4NAKF,sBACE,wCACA,8HAOZ,CACEC,QAAS,iBACTC,OAAQ,SACRF,QACE,4BACE,wLAON,CACEC,QAAS,WACTC,OAAQ,WACRF,QACE,4BACE,sC,qgBCjIX,SAASG,EAAT,GAAyD,IAArCC,EAAqC,EAArCA,SACzB,OACE,YAAC,IAAD,KACE,YAAC,IAAD,iBACCA,GAYP,IAAMC,EAASC,IAAOC,GAAV,KACNC,EAAQF,IAAOG,GAAT,KAIL,SAASC,EAAT,GAA6D,IAArCV,EAAqC,EAArCA,QAC7B,OACE,uBACE,YAAC,IAAD,KACE,YAAC,IAAD,0BACA,sBACGA,EAAQW,KAAI,SAAAC,GAAK,OAChB,kBAAIC,MAAO,CAAEC,WAAY,IAAMF,EAAMG,OAAS,IAAMC,IAAKJ,EAAMV,QAC7D,iBAAGe,KAAI,IAAML,EAAMV,QAAWU,EAAMX,eAK3CD,EAAQW,KAAI,SAAAC,GACX,IAAMM,EAAWN,EAAMG,MAAiBP,EAATH,EAC/B,OACE,YAAC,IAAD,CAASc,GAAIP,EAAMV,OAAQc,IAAKJ,EAAMV,QACpC,YAACgB,EAAD,KAAUN,EAAMX,SACfW,EAAMZ,aAQZ,IAAMoB,EAAYd,IAAOe,KAAV,M,iCCjDtB,EAAQ,IAAR,CAA0B,UAAU,SAAUC,GAC5C,OAAO,SAAgBC,GACrB,OAAOD,EAAWE,KAAM,IAAK,OAAQD","file":"component---src-pages-guides-client-custom-request-adapters-tsx-f5b6c1edaaaf8ec12c21.js","sourcesContent":["import * as React from 'react'\nimport { Example } from '../../../components/api-components'\nimport Container from '../../../components/Container'\nimport { FixedFont, GuideContent, Overview } from '../../../components/guides'\nimport Page from '../../../components/Page'\nimport IndexLayout from '../../../layouts'\n\n\nconst IndexPage = () => (\n  <IndexLayout>\n    <Page>\n      <Container>\n        <h1>Guide: custom request adapters</h1>\n        <Overview>\n          Making API calls with papupata happens using request adapters. The built-in ones are naive and limited, so you probably want to\n          create one that fits whatever requirements you have.\n        </Overview>\n        <GuideContent\n          content={[\n            {\n              heading: 'The basics',\n              anchor: 'basics',\n              content: (\n                <>\n                  <p>\n                    A request adapter is a function, which receives a bunch of parameters and is expected to return a promise that resolves\n                    with the value returned by the API. Now, let's start with the type declaration.\n                  </p>\n                  <Example>{`\n                    export type MakeRequestAdapter<RequestOptions = void> = (\n                      method: string,\n                      url: string,\n                      query: any,\n                      body: any,\n                      params: any,\n                      api: any,\n                      requestOptions?: RequestOptions\n                    ) => Promise<any>                    \n                    `}</Example>\n                  <p>\n                    In the table below you'll find listed typical uses for each of the parameters, from the point of view of making typical\n                    HTTP requests.\n                  </p>\n                  <table>\n                    <thead>\n                      <th>Name</th>\n                      <th>Typical uses</th>\n                    </thead>\n                    <tbody>\n                      <tr>\n                        <td>method</td>\n                        <td>\n                          This is the HTTP method the request is meant to be made with, in lowercase letters. You'll want to supply it to\n                          the library you use for actually making the requests. It can also be useful for determining if you should include\n                          the body or not.\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>url</td>\n                        <td>\n                          <p>\n                            This is the URL to the API, with path parameters already baked in, but without query parameters. Depending on\n                            your library you might want to add the query parameters to it before passing it along to your request library,\n                            or perhaps you can use the URL as is.\n                          </p>\n                          <p>\n                            If you do want to add the parameters, the <FixedFont>qs</FixedFont> library is a useful library for getting that\n                            done.\n                          </p>\n                          <Example>{`\n                            import qs from 'qs'\n\n                            const finalURL = url + '?' + qs.stringify(query)\n                          `}</Example>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>query</td>\n                        <td>\n                          This is a javascript object that has keys for query parameter names and values are the query parameter values.\n                          You'll want to pass this data along with the request, either baking it into the URL or passing the data to your\n                          library in some other way, such as the <FixedFont>qs</FixedFont> option of <FixedFont>request</FixedFont>.\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>body</td>\n                        <td>\n                          This is the body that is to be sent with the request. No serialization or other manipulation has been done before\n                          it arrives to this function, so if your library requires, say, you to do <FixedFont>JSON.stringify</FixedFont> on\n                          objects then you'll want to do that before passing it along.\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>params</td>\n                        <td>\n                          Typically you won't need to use this parameter, as all of the path parameters have already been baked in to URL.\n                          On rare occasions you might want to make some decisions based on the path parameter values, so it is provided for\n                          completeness. The format is a javascript object that has keys for path parameter names and values their values.\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>api</td>\n                        <td>\n                          This is the API being invoked. This is especially useful if you have route options and wish to access them for\n                          making the request, for, say, determining if authentication needs to be performed.\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>requestOptions</td>\n                        <td>If you have specified options to be passed for making requests, this is where you'll find them.</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </>\n              )\n            },\n            {\n              heading: 'Error handling',\n              anchor: 'errors',\n              content: (\n                <>\n                  <p>\n                    At this time papupata does no take error handling into account. Any exceptions thrown in the adapter will be catchable\n                    wherever the call to the API was made.\n                  </p>\n                </>\n              )\n            },\n            {\n              heading: 'Examples',\n              anchor: 'examples',\n              content: (\n                <>\n                  <p>WIP</p>\n                </>\n              )\n            }\n          ]}\n        />\n      </Container>\n    </Page>\n  </IndexLayout>\n)\n\nexport default IndexPage\n","import React, { ReactNode } from 'react'\nimport { Section, SectionHeading } from './api-components'\nimport styled from 'styled-components'\n\nexport function Overview({ children }: { children: ReactNode }) {\n  return (\n    <Section>\n      <SectionHeading>Overview</SectionHeading>\n      {children}\n    </Section>\n  )\n}\n\ninterface GuidePart {\n  heading: ReactNode\n  anchor: string\n  content: ReactNode\n  level?: number\n}\n\nconst Level0 = styled.h4``\nconst Level1= styled.h5`\n  font-size: 1.1em;\n`\n\nexport function GuideContent({ content }: { content: GuidePart[] }) {\n  return (\n    <div>\n      <Section>\n        <SectionHeading>Table of contents</SectionHeading>\n        <ul>\n          {content.map(child => (\n            <li style={{ marginLeft: 18 * (child.level || 0) }} key={child.anchor}>\n              <a href={`#${child.anchor}`}>{child.heading}</a>\n            </li>\n          ))}\n        </ul>\n      </Section>\n      {content.map(child => {\n        const Heading = !child.level ? Level0 : Level1\n        return (\n          <Section id={child.anchor} key={child.anchor}>\n            <Heading>{child.heading}</Heading>\n            {child.content}\n          </Section>\n        )\n      })}\n    </div>\n  )\n}\n\nexport const FixedFont = styled.span`\n  font-family: \"Consolas\", \"Bitstream Vera Sans Mono\", \"Courier New\", Courier, monospace\n`\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n"],"sourceRoot":""}