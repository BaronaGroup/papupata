<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/papupata/styles.72f89f3faef242b2669e.css" id="gatsby-global-css">/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;line-height:1.15;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;margin:0}hr{color:inherit;height:0}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}legend{padding:0}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}</style><meta name="generator" content="Gatsby 3.6.2"/><link rel="canonical" href="https://gatsby-starter-typescript-plus.netlify.com/guides/declaring/typeMapping/" data-baseprotocol="https:" data-basehost="gatsby-starter-typescript-plus.netlify.com"/><title data-react-helmet="true">Papupata Documentation</title><meta data-react-helmet="true" name="description" content="Documentation for the typescript library papupata, for utilizing types for AJAX requests."/><meta data-react-helmet="true" name="keywords"/><link as="script" rel="preload" href="/papupata/webpack-runtime-79a290cdc6bc41719466.js"/><link as="script" rel="preload" href="/papupata/framework-dc80b13bf39831b3d433.js"/><link as="script" rel="preload" href="/papupata/app-1d46734f896b90de6294.js"/><link as="script" rel="preload" href="/papupata/commons-66d32ce1d5d13085e163.js"/><link as="script" rel="preload" href="/papupata/8bd8962e0d246101d5fe70c9e6bee35d3a158374-6f38b19a63daf7d86dab.js"/><link as="script" rel="preload" href="/papupata/component---src-pages-guides-declaring-type-mapping-tsx-6154d7adb4b26902f5e6.js"/><link as="fetch" rel="preload" href="/papupata/page-data/guides/declaring/typeMapping/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/papupata/page-data/sq/d/1963140206.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/papupata/page-data/sq/d/2219842477.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/papupata/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global 1sdnwx3">html{box-sizing:border-box;}*,*::before,*::after{box-sizing:inherit;}html{font-size:16px!important;line-height:1.45!important;}body{width:100%;overflow-x:hidden;overflow-y:scroll;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif;color:#000;background-color:#fff;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;}a{color:#663399;-webkit-text-decoration:none;text-decoration:none;}a:hover,a:focus{-webkit-text-decoration:underline;text-decoration:underline;}img{max-width:100%;object-fit:contain;position:relative;}figure{margin:2rem 0;}figcaption{font-size:80%;}table{width:100%;margin-bottom:1rem;border:1px solid #f5f3f7;font-size:85%;border-collapse:collapse;}td,th{padding:.25rem .5rem;border:1px solid #f5f3f7;}th{text-align:left;}tbody tr:nth-of-type(odd) td{background-color:#fbfafc;}tbody tr:nth-of-type(odd) tr{background-color:#fbfafc;}h1,h2,h3,h4,h5,h6{margin-top:1.414rem;margin-bottom:.5rem;color:#000;font-weight:600;line-height:1.2;text-rendering:optimizeLegibility;}h1{margin-top:0;font-size:2.441rem;}h2{font-size:1.953rem;}h3{font-size:1.563rem;}h4,h5,h6{font-size:1.25rem;}p{margin-top:0;margin-bottom:1rem;}strong{color:#000;}ul,ol,dl{margin-top:0;margin-bottom:1rem;}dt{font-weight:bold;}dd{margin-bottom:.5rem;}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #f5f3f7;}blockquote{margin:.8rem 0;padding:.5rem 1rem;border-left:.25rem solid #f5f3f7;color:rgba(0, 0, 0, 0.54);}blockquote p:last-child{margin-bottom:0;}@media (min-width: 48em){blockquote{padding-right:5rem;padding-left:1.25rem;}}</style><style data-emotion="css 11pfcjj">.css-11pfcjj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><div class="css-11pfcjj e1qi6hgo0"><style data-emotion="css 1atnuaa">.css-1atnuaa{height:60px;padding:0 1.5rem;background-color:#663399;color:rgba(255,255,255,0.5);}</style><header class="css-1atnuaa ew8ynk82"><style data-emotion="css 1tev41e">.css-1tev41e{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}</style><style data-emotion="css 8gr2bf">.css-8gr2bf{position:relative;margin-left:auto;margin-right:auto;width:auto;max-width:60em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}</style><div class="ew8ynk81 css-8gr2bf euf2zmc0"><style data-emotion="css 1u0571z">.css-1u0571z{color:#fff;font-size:1.5rem;font-weight:600;}.css-1u0571z:hover,.css-1u0571z:focus{-webkit-text-decoration:none;text-decoration:none;}</style><a class="css-1u0571z ew8ynk80" href="/papupata/">Papupata Documentation</a></div></header><div class="sc-iqAclL jibPFy"><div class="sc-iCoGMd kMthTr"><h2 class="sc-fujyAs eysHZq">Table of contents</h2><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/what-is-papupata">What is papupata?</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/getting-started">Getting started</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/concepts">Concepts and terms</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides">Guides</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/declaring">Declaring APIs</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/declaring">Basics</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/declaring/typeMapping">Types for path and query</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/declaring/query-based-variants">Query-based variants</a></div></label></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/metadata">Accessing metadata</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/sharing">Sharing APIs declarations</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides?client">Clients</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/client/setup">Setting up papupata</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/client/calling">Calling APIs</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/client/customRequestAdapters">Custom request adapters</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/client/testing">Testing</a></div></label></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides?server">Servers</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/server/setup">Setting up papupata</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/server/implementing">Implementing APIs</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/server/interactingWithExpress">Interacting with express</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/server/middleware">Middleware</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/server/testing">Testing</a></div></label></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/guides/migrationToV2">Migrating to papupata 2.x</a></div></label></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api-reference">API Reference</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration">class APIDeclaration</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/configure"><span>configure<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/declareDeleteAPI"><span>declareDeleteAPI<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/declareGetAPI"><span>declareGetAPI<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/declarePostAPI"><span>declarePostAPI<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/declarePatchAPI"><span>declarePatchAPI<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/declarePutAPI"><span>declarePutAPI<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/getConfig"><span>getConfig<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/unmockAll"><span>unmockAll<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/APIDeclaration/updateConfig"><span>updateConfig<!-- -->()</span></a></div></label></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/PartiallyDeclaredAPI">PartiallyDeclaredAPI</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/PartiallyDeclaredAPI/params"><span>params<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/PartiallyDeclaredAPI/query"><span>query<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/PartiallyDeclaredAPI/optionalQuery"><span>optionalQuery<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/PartiallyDeclaredAPI/queryBool"><span><span class="sc-jrsJWt dJdFwe">queryBool</span>()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/PartiallyDeclaredAPI/body"><span>body<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/PartiallyDeclaredAPI/response"><span>response<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/PartiallyDeclaredAPI/TypeMapping"><span class="sc-pNWdM XJxhY">TypeMapping</span></a></div></label></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI">DeclaredAPI</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/invoke"><span>invoke<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/getURL"><span>getURL<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/implement"><span>implement<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/implementation"><span class="sc-kEqXSa bAVzgZ">implementation</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/implementationMiddleware"><span class="sc-kEqXSa bAVzgZ">implementationMiddleware</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/implementWithMiddleware"><span>implementWithMiddleware<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/implementWithExpressMiddleware"><span>implementWithExpressMiddleware<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/implementWithPapupataMiddleware"><span>implementWithPapupataMiddleware<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/mock"><span>mock<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/mockOnce"><span>mockOnce<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/unmock"><span>unmock<!-- -->()</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/method"><span class="sc-kEqXSa bAVzgZ">method</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/apiDeclaration"><span class="sc-kEqXSa bAVzgZ">apiDeclaration</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/apiUrlParameters"><span class="sc-kEqXSa bAVzgZ">apiUrlParameters</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/path"><span class="sc-kEqXSa bAVzgZ">path</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/ResponseType"><span class="sc-pNWdM XJxhY">ResponseType</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/ServerResponseType"><span class="sc-pNWdM XJxhY">ServerResponseType</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/BodyType"><span class="sc-pNWdM XJxhY">BodyType</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/CallArgsType"><span class="sc-pNWdM XJxhY">CallArgsType</span></a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/DeclaredAPI/RequestType"><span class="sc-pNWdM XJxhY">RequestType</span></a></div></label></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/convertExpressMiddleware">convertExpressMiddleware</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/skipHandlingRoute">skipHandlingRoute</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/handleUndefinedResponsesMiddleware">handleUndefinedResponsesMiddleware</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/fetchAdapter">fetchAdapter</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/requestPromiseAdapter">requestPromiseAdapter</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/supertestAdapter">supertestAdapter</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/supertestInvoker">supertestInvoker</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/invokeImplementationAdapter">invokeImplementationAdapter</a></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/api/testInvoker">testInvoker</a></div></label></div></label><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><span class="sc-eCApnc iylGhi">&gt;</span><a current="false" class="sc-gtsrHT juhBur" href="/papupata/experimental">Experimental</a></div><div class="sc-hKFxyN kksiKu"><label class="sc-gKAaRy hydYaP"><input type="checkbox" readonly="" class="sc-jSFjdj jcTaHb"/><div class="sc-bdnxRM jvCTkj"><a current="false" class="sc-gtsrHT juhBur" href="/papupata/experimental/papupata-from-openapi">Conversion from OpenAPI</a></div></label></div></label></div><style data-emotion="css 1wmy9hl">.css-1wmy9hl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;}</style><main class="css-1wmy9hl e1mc0fse0"><style data-emotion="css pcbh56">.css-pcbh56{display:block;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;padding:1.5rem;margin-bottom:3rem;}</style><div class="css-pcbh56 e1cg1sy10"><style data-emotion="css fkj7ih">.css-fkj7ih{position:relative;margin-left:auto;margin-right:auto;width:auto;max-width:60em;}</style><div class="css-fkj7ih euf2zmc0"><h1>Guide: Typed query and path parameters</h1><section class="sc-dIsUp jEEywD"><h4 class="sc-bqGGPW iPexDg">Overview</h4>Query parameters and path parameters are naturally strings. But that doesn&#x27;t mean that it&#x27;s all they can be, and the major addition to papupata 2.0 is support for types in query and path parameters.</section><section class="sc-dIsUp jEEywD"><h4 class="sc-bqGGPW iPexDg">Availability</h4>This functionality is available from papupata version <!-- -->2.0.0<!-- --> onwards.</section><div><section class="sc-dIsUp jEEywD"><h4 class="sc-bqGGPW iPexDg">Table of contents</h4><ul><li style="margin-left:0"><a href="#prerequisites">Prerequisites</a></li><li style="margin-left:0"><a href="#basics">Basics</a></li><li style="margin-left:0"><a href="#string">Strings</a></li><li style="margin-left:18px"><a href="#enum">Enumerations</a></li><li style="margin-left:18px"><a href="#regex">Regex-constrained</a></li><li style="margin-left:0"><a href="#numbers">Numbers</a></li><li style="margin-left:18px"><a href="#integers">Integers</a></li><li style="margin-left:0"><a href="#booleans">Booleans</a></li><li style="margin-left:0"><a href="#dates">Dates</a></li><li style="margin-left:0"><a href="#arrays">Arrays</a></li><li style="margin-left:0"><a href="#validation">Validation</a></li><li style="margin-left:18px"><a href="#errorhandling">Error handling</a></li><li style="margin-left:18px"><a href="#rerouting">Routing decisions</a></li><li style="margin-left:0"><a href="#middleware">Middleware</a></li></ul></section><section id="prerequisites" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Prerequisites</h4><p>Before starting this guide, you need to have an API declaration, with declared APIs. For information on how to get there, see <a href="/papupata/guides/declaring">Declaring APIs</a>.</p><p>For the examples in the guide, the following code is assumed to be present in the scope:</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">import</span><span> { APIDeclaration } </span><span style="color:#954121">from</span><span> </span><span style="color:#219161">&#x27;papupata&#x27;</span><span>
</span><span></span><span style="color:#954121">const</span><span> API = </span><span style="color:#954121">new</span><span> APIDeclaration()</span></code></pre></div></section><section id="basics" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Basics</h4><p>To begin with, you should know that this guide as well as other documentation for papupata refer to a concept called type mapping. These are javascript objects that are used to map fields to their types. For example</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">const</span><span> myMapping = {
</span><span>  </span><span class="hljs-attr">name</span><span>: </span><span style="color:#0086b3">String</span><span>,
</span><span>  </span><span class="hljs-attr">age</span><span>: </span><span style="color:#0086b3">Number</span><span>
</span>}
</code></pre></div><p>is a type mapping that declares name to be a string, and age to be a number.</p><p>These type mappings are used for setting up the types for query and path parameters, for example</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/user/:id&#x27;</span><span>)
</span><span>  .params({</span><span class="hljs-attr">id</span><span>: </span><span style="color:#0086b3">Number</span><span>})
</span><span>  .query({</span><span class="hljs-attr">token</span><span>: </span><span style="color:#0086b3">String</span><span>})
</span><span>  .optionalQuery({</span><span class="hljs-attr">includeRelations</span><span>: </span><span style="color:#0086b3">Boolean</span><span>, </span><span class="hljs-attr">maxLogEnties</span><span>: </span><span style="color:#0086b3">Number</span><span>})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()</span></code></pre></div><p>Something that applies to all non-array types is that if a query parameter is specified multiple times, it will be its last instance that is used. This was chosen so that you can override values earlier in the URL just by appending a new value at the end of it.</p></section><section id="string" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Strings</h4><p>Strings are just about as simple as it gets. A path or query parameter is a string, and it&#x27;s passed to the implementation as provided.</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/path&#x27;</span><span>)
</span><span>  .query({</span><span class="hljs-attr">param</span><span>: </span><span style="color:#0086b3">String</span><span>})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()</span></code></pre></div></section><section id="enum" class="sc-dIsUp jEEywD"><h5 class="sc-iklJeh hbusih">Enumerations</h5><p>Sometimes a string is not just any string. Enumerations are a common thing, and you might want to have your query parameter be one from a specific set of strings. This is something papupata supports, using its StringEnum type.</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">import</span><span> { StringEnum } </span><span style="color:#954121">from</span><span> </span><span style="color:#219161">&#x27;papupata/queryTypes&#x27;</span><span>
</span>
<span></span><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/path&#x27;</span><span>)
</span><span>  .query({</span><span class="hljs-attr">param</span><span>: StringEnum([</span><span style="color:#219161">&#x27;alpha&#x27;</span><span>, </span><span style="color:#219161">&#x27;beta&#x27;</span><span>] </span><span style="color:#954121">as</span><span> </span><span style="color:#954121">const</span><span>)})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()</span></code></pre></div><p>Typescript is fully aware of the enumeration nature of the parameter on both the client and server sides, and the value is validated by papupata before it is passed to the route implementation on the server.</p><p>Do make sure to include the <span class="sc-jJMGnK laKGqb">as const</span> after the array declaration; if omitted, the field will be treated by typescript as just a string, so the only benefit you get is the validation done by papupata.</p></section><section id="regex" class="sc-dIsUp jEEywD"><h5 class="sc-iklJeh hbusih">Regex-constrained</h5><p>Regular expressions are an effective way to validate strings while providing a reasonable way for clients to figure out if they have something valid or not. Papupata has a support for constraining a string parameter to match a regular expression, though it must be noted that typescript will treat is just as any string, so it is not able to indicate incorrect usage.</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">import</span><span> { StringMatching } </span><span style="color:#954121">from</span><span> </span><span style="color:#219161">&#x27;papupata/queryTypes&#x27;</span><span>
</span>
<span></span><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/path&#x27;</span><span>)
</span><span>  .query({</span><span class="hljs-attr">param</span><span>: StringMatching(</span><span style="color:#b68">/^[A-Z]{8}$/</span><span>)})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()</span></code></pre></div></section><section id="numbers" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Numbers</h4><p>It is very common to include numbers as query parameters, for features such as paging. Numbers are fully supported as query and path parameters in papupata.</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/path&#x27;</span><span>)
</span><span>  .query({</span><span class="hljs-attr">param</span><span>: </span><span style="color:#0086b3">Number</span><span>})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()
</span>
<span>api({</span><span class="hljs-attr">param</span><span>: </span><span style="color:#40a070">100</span><span>})
</span>
<span>api.implement(</span><span class="hljs-function" style="color:#00f">req</span><span class="hljs-function"> =&gt;</span><span> </span><span style="color:#0086b3">console</span><span>.log(</span><span style="color:#954121">typeof</span><span> req.query.param)) </span><span style="color:#408080;font-style:italic">// outputs number</span></code></pre></div><p>Typescript is also aware of the parameter being a number helping with the correct usage of the API.</p><p>Do be aware that the two special numbers in javascript, Infinity and NaN are both valid values for a number parameter!</p></section><section id="integers" class="sc-dIsUp jEEywD"><h5 class="sc-iklJeh hbusih">Integers</h5><p>Integers as are undoubtedly the most common form of numbers you see in query parameters, so support for them as a special case was added to papupata although typescript will only ever see them as the normal &quot;number&quot; type.</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/path&#x27;</span><span>)
</span><span>  .query({</span><span class="hljs-attr">param</span><span>: Integer})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()
</span>
<span>api({</span><span class="hljs-attr">param</span><span>: </span><span style="color:#40a070">100</span><span>})
</span>
<span>api.implement(</span><span class="hljs-function" style="color:#00f">req</span><span class="hljs-function"> =&gt;</span><span> </span><span style="color:#0086b3">console</span><span>.log(</span><span style="color:#954121">typeof</span><span> req.query.param)) </span><span style="color:#408080;font-style:italic">// outputs number</span></code></pre></div><p>This does mean that the only real effect that something being declared as an integer instead of a number has is papupata validating it differently before passing it to the implementation.</p><p>Infinity and NaN are not considered to be integers.</p></section><section id="booleans" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Booleans</h4><p>Booleans are also fully supported in papupata, and typescript is knows perfectly well when a parameter is meant to be a boolean, too.</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/path&#x27;</span><span>)
</span><span>  .query({</span><span class="hljs-attr">param</span><span>: </span><span style="color:#0086b3">Boolean</span><span>})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()
</span>
<span>api({</span><span class="hljs-attr">param</span><span>: </span><span style="color:#954121">true</span><span>})
</span>
<span>api.implement(</span><span class="hljs-function" style="color:#00f">req</span><span class="hljs-function"> =&gt;</span><span> </span><span style="color:#0086b3">console</span><span>.log(</span><span style="color:#954121">typeof</span><span> req.query.param)) </span><span style="color:#408080;font-style:italic">// outputs boolean</span></code></pre></div><p>The server side accepts only the string &quot;true&quot; to indicate the boolean true, whereas false can be indicated both by the string &quot;false&quot; and an empty string. All other values are invalid.</p></section><section id="dates" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Dates</h4><p>Dates are not the most common thing you see in query parameters, but they are supported as well. On the client a date must be provided as a Date object, a string will not do. On the server side the input is passed to the date constructor, and if the resulting date is invalid, the parameter is considered to be invalid. For consistent results, ISO 8601 format is recommended.</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/path&#x27;</span><span>)
</span><span>  .query({</span><span class="hljs-attr">param</span><span>: </span><span style="color:#0086b3">Date</span><span>})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()
</span>
<span>api({</span><span class="hljs-attr">param</span><span>: </span><span style="color:#954121">new</span><span> </span><span style="color:#0086b3">Date</span><span>()})
</span>
<span>api.implement(</span><span class="hljs-function" style="color:#00f">req</span><span class="hljs-function"> =&gt;</span><span> </span><span style="color:#0086b3">console</span><span>.log(req.query.param </span><span style="color:#954121">instanceof</span><span> </span><span style="color:#0086b3">Date</span><span>)) </span><span style="color:#408080;font-style:italic">// outputs true</span></code></pre></div></section><section id="arrays" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Arrays</h4><p>In query parameter context arrays of all of the types above are supported. In the declaration you indicate an array by putting the type inside an array.</p><div class="sc-crzoAE DykGo"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code class="language-typescript" style="white-space:pre"><span style="color:#954121">const</span><span> api = API.declareGetAPI(</span><span style="color:#219161">&#x27;/path&#x27;</span><span>)
</span><span>  .query({</span><span class="hljs-attr">param</span><span>: [</span><span style="color:#0086b3">Number</span><span>]})
</span><span>  .response&lt;</span><span style="color:#0086b3">any</span><span>&gt;()
</span>
<span>api({</span><span class="hljs-attr">param</span><span>: [</span><span style="color:#40a070">1</span><span>, </span><span style="color:#40a070">2</span><span>, </span><span style="color:#40a070">3</span><span>]})
</span>
<span>api.implement(</span><span class="hljs-function" style="color:#00f">req</span><span class="hljs-function"> =&gt;</span><span> </span><span style="color:#0086b3">console</span><span>.log(</span><span style="color:#0086b3">Array</span><span>.isArray(req.query.param), req.query.param.length) </span><span style="color:#408080;font-style:italic">// outputs true, 3</span></code></pre></div><p>The usage is as one would expect, with arrays being used on the client side and arrays being received at the server side.</p><p>On HTTP level the arrays are passed as multiple parameters with the same name, and they become array entries in the same order as they are in the URL.</p><p>One oddity of arrays is that they are always effectively optional as far as the server is concerned, as lack of any values creates an empty array, while the array is required to be entered on the browser side. If the array is used in<!-- --> <span class="sc-jJMGnK laKGqb">optionalQuery</span>, typescript is actually aware on the server of there always being an array, so there is no need to check for it possibly being undefined.</p></section><section id="validation" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Validation</h4><p>Query and path parameters are always validated to ensure that they match the expected type and any other constraints there may be. By default validation failure triggers an error, though you can configure papupata or the individual API to do rerouting instead.</p></section><section id="errorhandling" class="sc-dIsUp jEEywD"><h5 class="sc-iklJeh hbusih">Error handling</h5><p>Upon a validation failure, an error of the type PapupataValidationError (importable from papupata/ValidationError) is thrown. This can be caught and processed in either inherent papupata middleware or in express error handling middleware.</p></section><section id="rerouting" class="sc-dIsUp jEEywD"><h5 class="sc-iklJeh hbusih">Routing decisions</h5><p>The other option is to trigger rerouting upon validation failure. This allows you to have multiple APIs that have the same URL, such that routing depends on the values of query and path parameters.</p><p>What basically happens is that express is told that the route it attempted to use is incorrect and that it should see if there are any other routes that match the request.</p></section><section id="middleware" class="sc-dIsUp jEEywD"><h4 class="sc-kLojOw iehvjW">Middleware</h4><p>The timing for validating and converting the parameters is very specific: it takes place after inherent middleware and before route-specific middleware.</p><p>This has been done so that any generic middleware is present even when validation fails, allowing logging, for example to work correctly, but with the assumption that route-specific middleware might expect the types to already have been taken care of (numbers for example being actual numbers and not just strings).</p></section></div></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/guides/declaring/typeMapping/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5338e31e9a7b3dbf697d.js"],"app":["/app-1d46734f896b90de6294.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-fcb916b4f0e28676627e.js"],"component---src-pages-api-api-declaration-configure-tsx":[],"component---src-pages-api-api-declaration-declare-delete-api-tsx":["/component---src-pages-api-api-declaration-declare-delete-api-tsx-f2bdc5315904602baa72.js"],"component---src-pages-api-api-declaration-declare-get-api-tsx":["/component---src-pages-api-api-declaration-declare-get-api-tsx-fcc45e3f26603d7a1d85.js"],"component---src-pages-api-api-declaration-declare-patch-api-tsx":["/component---src-pages-api-api-declaration-declare-patch-api-tsx-c37cfd703f4dae5c4626.js"],"component---src-pages-api-api-declaration-declare-post-api-tsx":["/component---src-pages-api-api-declaration-declare-post-api-tsx-02dc320974bf2fbd6386.js"],"component---src-pages-api-api-declaration-declare-put-api-tsx":["/component---src-pages-api-api-declaration-declare-put-api-tsx-5b6b2a0647b73ba5e611.js"],"component---src-pages-api-api-declaration-get-config-tsx":["/component---src-pages-api-api-declaration-get-config-tsx-5bc8dc8bbca292da01c1.js"],"component---src-pages-api-api-declaration-tsx":["/component---src-pages-api-api-declaration-tsx-a39fbdf78d704023a1f1.js"],"component---src-pages-api-api-declaration-unmock-all-tsx":["/component---src-pages-api-api-declaration-unmock-all-tsx-e2a331e0b1e56083a25f.js"],"component---src-pages-api-api-declaration-update-config-tsx":["/component---src-pages-api-api-declaration-update-config-tsx-04ce246a080e4f46c6e9.js"],"component---src-pages-api-convert-express-middleware-tsx":["/component---src-pages-api-convert-express-middleware-tsx-965f0d59a7f4875347f9.js"],"component---src-pages-api-declared-api-api-declaration-tsx":["/component---src-pages-api-declared-api-api-declaration-tsx-35f2f0db580627fc813a.js"],"component---src-pages-api-declared-api-api-url-parameters-tsx":["/component---src-pages-api-declared-api-api-url-parameters-tsx-b6349628527970eb7ad4.js"],"component---src-pages-api-declared-api-body-type-tsx":["/component---src-pages-api-declared-api-body-type-tsx-e7a00acd1184f8d9847b.js"],"component---src-pages-api-declared-api-call-args-type-tsx":["/component---src-pages-api-declared-api-call-args-type-tsx-091d839f3c3fb77a51ea.js"],"component---src-pages-api-declared-api-get-url-tsx":["/component---src-pages-api-declared-api-get-url-tsx-423d79c6b119ae12f979.js"],"component---src-pages-api-declared-api-implement-base-tsx":["/component---src-pages-api-declared-api-implement-base-tsx-9f8e1b394e5895f0dee8.js"],"component---src-pages-api-declared-api-implement-tsx":["/component---src-pages-api-declared-api-implement-tsx-3cc851c5310b396a158c.js"],"component---src-pages-api-declared-api-implement-with-express-middleware-tsx":["/component---src-pages-api-declared-api-implement-with-express-middleware-tsx-e78f3b40bb2809528007.js"],"component---src-pages-api-declared-api-implement-with-middleware-tsx":["/component---src-pages-api-declared-api-implement-with-middleware-tsx-22f2e44388f74b59ace6.js"],"component---src-pages-api-declared-api-implement-with-papupata-middleware-tsx":["/component---src-pages-api-declared-api-implement-with-papupata-middleware-tsx-a38c1c01723bf91c0f3b.js"],"component---src-pages-api-declared-api-implementation-middleware-tsx":["/component---src-pages-api-declared-api-implementation-middleware-tsx-54b6886b9c5562b7e80b.js"],"component---src-pages-api-declared-api-implementation-tsx":["/component---src-pages-api-declared-api-implementation-tsx-28a1343e7de112ba663e.js"],"component---src-pages-api-declared-api-invoke-tsx":["/component---src-pages-api-declared-api-invoke-tsx-bae0fde30830ec40435d.js"],"component---src-pages-api-declared-api-method-tsx":["/component---src-pages-api-declared-api-method-tsx-e7f3a6182698fcdf6c81.js"],"component---src-pages-api-declared-api-mock-once-tsx":["/component---src-pages-api-declared-api-mock-once-tsx-7ce078574556eff5f063.js"],"component---src-pages-api-declared-api-mock-tsx":["/component---src-pages-api-declared-api-mock-tsx-bf84f6848f543df16e87.js"],"component---src-pages-api-declared-api-path-tsx":["/component---src-pages-api-declared-api-path-tsx-110acea526c902b79e94.js"],"component---src-pages-api-declared-api-request-type-tsx":["/component---src-pages-api-declared-api-request-type-tsx-2fb34b7e4367f558b04d.js"],"component---src-pages-api-declared-api-response-type-tsx":["/component---src-pages-api-declared-api-response-type-tsx-213bcc65f28b039b72ff.js"],"component---src-pages-api-declared-api-server-response-type-tsx":["/component---src-pages-api-declared-api-server-response-type-tsx-86253726788dc65efa40.js"],"component---src-pages-api-declared-api-tsx":["/component---src-pages-api-declared-api-tsx-b7c4eef9b0f5c104804a.js"],"component---src-pages-api-declared-api-unmock-tsx":["/component---src-pages-api-declared-api-unmock-tsx-7725021fa84e7dd15eae.js"],"component---src-pages-api-fetch-adapter-tsx":["/component---src-pages-api-fetch-adapter-tsx-2d1939a56e1da4014f7f.js"],"component---src-pages-api-handle-undefined-responses-middleware-tsx":["/component---src-pages-api-handle-undefined-responses-middleware-tsx-b18827ed33000835692b.js"],"component---src-pages-api-invoke-implementation-adapter-tsx":["/component---src-pages-api-invoke-implementation-adapter-tsx-cf39d0b77de3a9c67376.js"],"component---src-pages-api-partially-declared-api-body-tsx":["/component---src-pages-api-partially-declared-api-body-tsx-a12da8c56ae8e6b7da2b.js"],"component---src-pages-api-partially-declared-api-optional-query-tsx":["/component---src-pages-api-partially-declared-api-optional-query-tsx-072abdb0c2661fdfa926.js"],"component---src-pages-api-partially-declared-api-params-tsx":["/component---src-pages-api-partially-declared-api-params-tsx-410ea206aeb8ef88d8ef.js"],"component---src-pages-api-partially-declared-api-query-bool-tsx":["/component---src-pages-api-partially-declared-api-query-bool-tsx-971f6f5ef04476e7f5c3.js"],"component---src-pages-api-partially-declared-api-query-tsx":["/component---src-pages-api-partially-declared-api-query-tsx-19074d3f67f23288141e.js"],"component---src-pages-api-partially-declared-api-response-tsx":["/component---src-pages-api-partially-declared-api-response-tsx-d4a796f8e602321ef27d.js"],"component---src-pages-api-partially-declared-api-tsx":["/component---src-pages-api-partially-declared-api-tsx-740935e3a9bcb0cd21c8.js"],"component---src-pages-api-partially-declared-api-type-mapping-tsx":["/component---src-pages-api-partially-declared-api-type-mapping-tsx-57e1387a9a85e6443c54.js"],"component---src-pages-api-request-promise-adapter-tsx":["/component---src-pages-api-request-promise-adapter-tsx-7d1ced307d06c05da791.js"],"component---src-pages-api-skip-handling-route-tsx":["/component---src-pages-api-skip-handling-route-tsx-5a9e61cc3a2fa1a75bdf.js"],"component---src-pages-api-supertest-adapter-tsx":["/component---src-pages-api-supertest-adapter-tsx-46bffdc49ac72964f0b3.js"],"component---src-pages-api-supertest-invoker-tsx":["/component---src-pages-api-supertest-invoker-tsx-f7fb5c2350c5819b0939.js"],"component---src-pages-api-test-invoker-tsx":["/component---src-pages-api-test-invoker-tsx-9709ddb02d4136a4ec5c.js"],"component---src-pages-concepts-tsx":["/component---src-pages-concepts-tsx-62e0f24f70c35ddf606f.js"],"component---src-pages-experimental-papupata-from-openapi-tsx":["/component---src-pages-experimental-papupata-from-openapi-tsx-1c6b97de4c02f70543cb.js"],"component---src-pages-experimental-tsx":["/component---src-pages-experimental-tsx-d6e3110d5957e619e195.js"],"component---src-pages-getting-started-tsx":["/component---src-pages-getting-started-tsx-527c7a29808c381ebf31.js"],"component---src-pages-guides-client-calling-tsx":["/component---src-pages-guides-client-calling-tsx-b23e2c8cd16aa9c9666a.js"],"component---src-pages-guides-client-custom-request-adapters-tsx":["/component---src-pages-guides-client-custom-request-adapters-tsx-a773ea31da8c6ff1db6b.js"],"component---src-pages-guides-client-setup-tsx":["/component---src-pages-guides-client-setup-tsx-87cdcdf47eb6e37e7656.js"],"component---src-pages-guides-client-testing-tsx":["/component---src-pages-guides-client-testing-tsx-33774feec554dca9a994.js"],"component---src-pages-guides-declaring-query-based-variants-tsx":["/component---src-pages-guides-declaring-query-based-variants-tsx-d341c3e7b2793c80b8c6.js"],"component---src-pages-guides-declaring-tsx":["/component---src-pages-guides-declaring-tsx-549a31a796e29f33ac6e.js"],"component---src-pages-guides-declaring-type-mapping-tsx":["/component---src-pages-guides-declaring-type-mapping-tsx-6154d7adb4b26902f5e6.js"],"component---src-pages-guides-metadata-tsx":["/component---src-pages-guides-metadata-tsx-9709dfb58dbc43b40748.js"],"component---src-pages-guides-migration-to-v-2-tsx":["/component---src-pages-guides-migration-to-v-2-tsx-41ea77d527ad47845afb.js"],"component---src-pages-guides-server-implementing-tsx":["/component---src-pages-guides-server-implementing-tsx-66e2b1c0a5dc16fbfd57.js"],"component---src-pages-guides-server-interacting-with-express-tsx":["/component---src-pages-guides-server-interacting-with-express-tsx-6317fabcf6f8e4e9470b.js"],"component---src-pages-guides-server-middleware-tsx":["/component---src-pages-guides-server-middleware-tsx-3f168a8be86469e5be61.js"],"component---src-pages-guides-server-setup-tsx":["/component---src-pages-guides-server-setup-tsx-8c52c1412b1703608573.js"],"component---src-pages-guides-server-testing-tsx":["/component---src-pages-guides-server-testing-tsx-ac5dc78cae4db3529443.js"],"component---src-pages-guides-sharing-tsx":["/component---src-pages-guides-sharing-tsx-27a4eee22f87b94897d7.js"],"component---src-pages-guides-tsx":["/component---src-pages-guides-tsx-50b42ec6ca1e07c39339.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-7027a32a53d1948d1cbd.js"],"component---src-pages-page-2-tsx":["/component---src-pages-page-2-tsx-cb87c40e5c81820300aa.js"],"component---src-templates-page-tsx":["/component---src-templates-page-tsx-e7dbfeb0d2c312ec94d1.js"]};/*]]>*/</script><script src="/papupata/polyfill-5338e31e9a7b3dbf697d.js" nomodule=""></script><script src="/papupata/component---src-pages-guides-declaring-type-mapping-tsx-6154d7adb4b26902f5e6.js" async=""></script><script src="/papupata/8bd8962e0d246101d5fe70c9e6bee35d3a158374-6f38b19a63daf7d86dab.js" async=""></script><script src="/papupata/commons-66d32ce1d5d13085e163.js" async=""></script><script src="/papupata/app-1d46734f896b90de6294.js" async=""></script><script src="/papupata/framework-dc80b13bf39831b3d433.js" async=""></script><script src="/papupata/webpack-runtime-79a290cdc6bc41719466.js" async=""></script></body></html>