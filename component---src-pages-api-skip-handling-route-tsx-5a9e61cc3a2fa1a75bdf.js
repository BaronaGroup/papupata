(self.webpackChunkpapupata_docs=self.webpackChunkpapupata_docs||[]).push([[5952],{1040:function(t,e,n){"use strict";n.d(e,{P:function(){return l}});var l=n(7294).createContext(!1)},2275:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var l,r,a=n(5761),u=n(7294),i=n(3583),o=n(3431),s=i.ZP.div(l||(l=(0,a.Z)(["\n  border-left: 4px solid #663399;\n  padding: 5px 0 5px 10px;\n"]))),c=i.ZP.div(r||(r=(0,a.Z)(["\n  display: inline-block;\n  margin-left: 10px;\n  font-size: 0.9em;\n"])));function p(t){var e=t.variants,n=t.isRecommendation,l=(0,u.useState)("2.x"),r=l[0],a=l[1],i=(0,u.useCallback)((function(t){a(t.target.value)}),[]);return(0,o.tZ)(s,null,(0,o.tZ)("select",{value:r,onChange:i},(0,o.tZ)("option",{value:"1.x"},"Papupata 1.x"),(0,o.tZ)("option",{value:"2.x"},"Papupata 2.x")),n&&(0,o.tZ)(c,null,"Older styles are still supported in later versions, just not preferred."),Object.keys(e).filter((function(t){return function(t,e){return"*"===e||e===t}(r,t)})).map((function(t){return(0,o.tZ)("div",{key:t},e[t])})))}},1724:function(t,e,n){"use strict";n.d(e,{$0:function(){return b},OT:function(){return y},ag:function(){return w},cY:function(){return x},l1:function(){return k},aE:function(){return A},d2:function(){return I},pR:function(){return C},by:function(){return T},yV:function(){return R},en:function(){return O},iT:function(){return H},Vo:function(){return q},lS:function(){return $}});var l,r,a,u,i,o,s,c,p,Z=n(5761),d=n(3583),h=n(7294),f=n(1808),m=n(1040),v=n(3431),b=d.ZP.section(l||(l=(0,Z.Z)([""]))),y=d.ZP.h4(r||(r=(0,Z.Z)([""]))),P=d.ZP.h5(a||(a=(0,Z.Z)([""]))),g=d.ZP.section(u||(u=(0,Z.Z)(["\n  padding: 15px 30px;\n  background: lightyellow;\n"]))),w=function(t){var e=t.children;return(0,v.tZ)(b,null,(0,v.tZ)(y,null,"Purpose"),e)},x=function(t){var e=t.version;return(0,v.tZ)(b,null,(0,v.tZ)(y,null,"Availability"),"This functionality is available from papupata version ",e," onwards.")},k=function(t){var e=t.children;return(0,v.tZ)(b,null,(0,v.tZ)(y,null,"Usage"),e)},A=function(t){var e=t.children,n=t.includeAvailableFrom,l=t.label;return(0,v.tZ)(b,null,(0,v.tZ)(m.P.Provider,{value:!!n},(0,v.tZ)(y,null,"Parameters",l&&": "+l),e?(0,v.tZ)("table",null,(0,v.tZ)("thead",null,(0,v.tZ)("tr",null,(0,v.tZ)("th",null,"Name"),(0,v.tZ)("th",null,"Type"),(0,v.tZ)("th",null,"Description"),n&&(0,v.tZ)("th",null,"Introduced in"))),(0,v.tZ)("tbody",null,e)):(0,v.tZ)("p",null,"There are no parameters.")))},I=function(t){var e=t.children,n=t.name,l=t.dataType,r=t.availableFrom,a=void 0===r?"1.0.0":r,u=h.useContext(m.P);return(0,v.tZ)("tr",null,(0,v.tZ)("td",null,n),(0,v.tZ)("td",null,l),(0,v.tZ)("td",null,e),u&&(0,v.tZ)("td",null,a))},C=function(t){var e=t.children;return(0,v.tZ)(b,null,(0,v.tZ)(y,null,"Returns"),e)},T=function(t){var e=t.children;return(0,v.tZ)(b,null,(0,v.tZ)(y,null,"Caveats"),e)},R=function(t){var e=t.children;return(0,v.tZ)(b,null,(0,v.tZ)(y,null,"Examples"),e)},O=function(t){var e=t.children,n=t.label;return(0,v.tZ)(h.Fragment,null,n&&(0,v.tZ)(P,null,n),(0,v.tZ)(f.E,{language:"typescript"},e))},H=function(t){var e=t.children;return(0,v.tZ)(g,null,(0,v.tZ)(P,null,"Common to examples below:"),e)},q=function(t){var e=t.children,n=t.includeAvailableFrom;return(0,v.tZ)(b,null,(0,v.tZ)(y,null,"Type parameeters"),(0,v.tZ)(m.P.Provider,{value:!!n},(0,v.tZ)(y,null,"Parameters"),e?(0,v.tZ)("table",null,(0,v.tZ)("thead",null,(0,v.tZ)("tr",null,(0,v.tZ)("th",null,"Name"),(0,v.tZ)("th",null,"Default value"),(0,v.tZ)("th",null,"Description"),n?(0,v.tZ)("th",null,"Introduced in"):"")),(0,v.tZ)("tbody",null,e)):(0,v.tZ)("p",null,"There are no parameters.")))},F=d.ZP.tr(i||(i=(0,Z.Z)([""]))),V=d.ZP.td(o||(o=(0,Z.Z)([""]))),D=d.ZP.td(s||(s=(0,Z.Z)([""]))),N=d.ZP.td(c||(c=(0,Z.Z)([""]))),S=d.ZP.td(p||(p=(0,Z.Z)([""]))),$=function(t){var e=t.children,n=t.name,l=t.defaultValue,r=t.availableFrom,a=void 0===r?"none":r,u=h.useContext(m.P);return(0,v.tZ)(F,null,(0,v.tZ)(V,null,n),(0,v.tZ)(D,null,l),(0,v.tZ)(N,null,e),u?(0,v.tZ)(S,null,a):"")}},5361:function(t,e,n){"use strict";n.d(e,{g2:function(){return c},eC:function(){return d},If:function(){return h}});var l,r,a,u=n(5761),i=(n(7294),n(1724)),o=n(3583),s=n(3431);function c(t){var e=t.children;return(0,s.tZ)(i.$0,null,(0,s.tZ)(i.OT,null,"Overview"),e)}var p=o.ZP.h4(l||(l=(0,u.Z)([""]))),Z=o.ZP.h5(r||(r=(0,u.Z)(["\n  font-size: 1.1em;\n"])));function d(t){var e=t.content;return(0,s.tZ)("div",null,(0,s.tZ)(i.$0,null,(0,s.tZ)(i.OT,null,"Table of contents"),(0,s.tZ)("ul",null,e.map((function(t){return(0,s.tZ)("li",{style:{marginLeft:18*(t.level||0)},key:t.anchor},(0,s.tZ)("a",{href:"#"+t.anchor},t.heading))})))),e.map((function(t){var e=t.level?Z:p;return(0,s.tZ)(i.$0,{id:t.anchor,key:t.anchor},(0,s.tZ)(e,null,t.heading),t.content)})))}var h=o.ZP.span(a||(a=(0,u.Z)(["\n  font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;\n"])))},4850:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});n(1879),n(7294);var l=n(1724),r=n(832),a=n(5361),u=n(7614),i=n(2275),o=n(7100),s=n(3431);function c(){return(0,s.tZ)(o.Z,null,(0,s.tZ)(u.Z,null,(0,s.tZ)(r.Z,null,(0,s.tZ)("h1",null,"API Reference"),(0,s.tZ)("h2",null,"skipHandlingRoute")),(0,s.tZ)(l.en,null,"import {skipHandlingRoute} from 'papupata'"),(0,s.tZ)(l.cY,{version:"1.5.0"}),(0,s.tZ)(l.ag,null,"A token value a route implementation or papupata middleware can return to have express move on to the other route handlers and middleware."),(0,s.tZ)(l.l1,null,(0,s.tZ)("p",null,"Most people will no need this, but there are a few use cases where this functionality can be useful."),(0,s.tZ)("p",null,"If routing needs are such, that there can be false positives for the route implementation, then this value can be used to defer the execution to other handlers. A common case would be serving HTML if the client expects it, and only running the API call itself for calls that have, say, Accept header requesting JSON."),(0,s.tZ)(i.Z,{variants:{"1.x":(0,s.tZ)("p",null,"Another case would be when autoImplementAllAPIs is enabled, but you cannot actually implement all the APIs with papupata. Perhaps you need a pecualiar combination of middleware that make it more difficult, maybe you even want to defer to another papupata router. Or perhaps the route is implemented by a library. In these cases you can implement the route as one that always returns skipHandlingRoute to indicate that other code is responsible for it."),"2.x":(0,s.tZ)("p",null,"Another case would be when autoImplementAllAPIs is enabled (which it is by default), but you cannot actually implement all the APIs with papupata. Perhaps you need a pecualiar combination of middleware that make it more difficult, maybe you even want to defer to another papupata router. Or perhaps the route is implemented by a library. In these cases you can implement the route as one that always returns skipHandlingRoute to indicate that other code is responsible for it. Alternatively you can declare the API with the ",(0,s.tZ)(a.If,null,"disableAutoImplement")," option set to true, but that does leak an implementation detail to the declarations.")}})),(0,s.tZ)(l.yV,null,(0,s.tZ)(l.en,{label:"Conditional skip"},"\n                api.implement(req => {\n                    if (req.headers.accept.includes('text/html')) return skipHandlingRoute\n                    return processRequest(req)\n                })\n            "),(0,s.tZ)(l.en,{label:"Defer execution to non-papupata implementation"},"\n                const api = API.declareGetAPI('/test').response<string>()\n                api.implement(() => skipHandlingRoute)\n                app.get('/test', (_req, res) => res.send('OK!'))\n            "))))}},1879:function(t,e,n){"use strict";n(7614),n(832),n(7100)}}]);
//# sourceMappingURL=component---src-pages-api-skip-handling-route-tsx-5a9e61cc3a2fa1a75bdf.js.map