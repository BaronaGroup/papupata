(self.webpackChunkpapupata_docs=self.webpackChunkpapupata_docs||[]).push([[2433],{1040:function(t,e,n){"use strict";n.d(e,{P:function(){return l}});var l=n(7294).createContext(!1)},2275:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var l,r,u=n(6848),a=n(7294),i=n(366),o=n(3431),s=i.ZP.div(l||(l=(0,u.Z)(["\n  border-left: 4px solid #663399;\n  padding: 5px 0 5px 10px;\n"]))),c=i.ZP.div(r||(r=(0,u.Z)(["\n  display: inline-block;\n  margin-left: 10px;\n  font-size: 0.9em;\n"])));function p(t){var e=t.variants,n=t.isRecommendation,l=(0,a.useState)("2.x"),r=l[0],u=l[1],i=(0,a.useCallback)((function(t){u(t.target.value)}),[]);return(0,o.tZ)(s,null,(0,o.tZ)("select",{value:r,onChange:i},(0,o.tZ)("option",{value:"1.x"},"Papupata 1.x"),(0,o.tZ)("option",{value:"2.x"},"Papupata 2.x")),n&&(0,o.tZ)(c,null,"Older styles are still supported in later versions, just not preferred."),Object.keys(e).filter((function(t){return function(t,e){return"*"===e||e===t}(r,t)})).map((function(t){return(0,o.tZ)("div",{key:t},e[t])})))}},1724:function(t,e,n){"use strict";n.d(e,{$0:function(){return v},OT:function(){return P},ag:function(){return x},cY:function(){return q},l1:function(){return T},aE:function(){return A},d2:function(){return I},pR:function(){return w},by:function(){return R},yV:function(){return k},en:function(){return C},iT:function(){return D},Vo:function(){return F},lS:function(){return B}});var l,r,u,a,i,o,s,c,p,Z=n(6848),d=n(366),f=n(7294),h=n(1808),y=n(1040),m=n(3431),v=d.ZP.section(l||(l=(0,Z.Z)([""]))),P=d.ZP.h4(r||(r=(0,Z.Z)([""]))),b=d.ZP.h5(u||(u=(0,Z.Z)([""]))),g=d.ZP.section(a||(a=(0,Z.Z)(["\n  padding: 15px 30px;\n  background: lightyellow;\n"]))),x=function(t){var e=t.children;return(0,m.tZ)(v,null,(0,m.tZ)(P,null,"Purpose"),e)},q=function(t){var e=t.version;return(0,m.tZ)(v,null,(0,m.tZ)(P,null,"Availability"),"This functionality is available from papupata version ",e," onwards.")},T=function(t){var e=t.children;return(0,m.tZ)(v,null,(0,m.tZ)(P,null,"Usage"),e)},A=function(t){var e=t.children,n=t.includeAvailableFrom,l=t.label;return(0,m.tZ)(v,null,(0,m.tZ)(y.P.Provider,{value:!!n},(0,m.tZ)(P,null,"Parameters",l&&": "+l),e?(0,m.tZ)("table",null,(0,m.tZ)("thead",null,(0,m.tZ)("tr",null,(0,m.tZ)("th",null,"Name"),(0,m.tZ)("th",null,"Type"),(0,m.tZ)("th",null,"Description"),n&&(0,m.tZ)("th",null,"Introduced in"))),(0,m.tZ)("tbody",null,e)):(0,m.tZ)("p",null,"There are no parameters.")))},I=function(t){var e=t.children,n=t.name,l=t.dataType,r=t.availableFrom,u=void 0===r?"1.0.0":r,a=f.useContext(y.P);return(0,m.tZ)("tr",null,(0,m.tZ)("td",null,n),(0,m.tZ)("td",null,l),(0,m.tZ)("td",null,e),a&&(0,m.tZ)("td",null,u))},w=function(t){var e=t.children;return(0,m.tZ)(v,null,(0,m.tZ)(P,null,"Returns"),e)},R=function(t){var e=t.children;return(0,m.tZ)(v,null,(0,m.tZ)(P,null,"Caveats"),e)},k=function(t){var e=t.children;return(0,m.tZ)(v,null,(0,m.tZ)(P,null,"Examples"),e)},C=function(t){var e=t.children,n=t.label;return(0,m.tZ)(f.Fragment,null,n&&(0,m.tZ)(b,null,n),(0,m.tZ)(h.E,{language:"typescript"},e))},D=function(t){var e=t.children;return(0,m.tZ)(g,null,(0,m.tZ)(b,null,"Common to examples below:"),e)},F=function(t){var e=t.children,n=t.includeAvailableFrom;return(0,m.tZ)(v,null,(0,m.tZ)(P,null,"Type parameeters"),(0,m.tZ)(y.P.Provider,{value:!!n},(0,m.tZ)(P,null,"Parameters"),e?(0,m.tZ)("table",null,(0,m.tZ)("thead",null,(0,m.tZ)("tr",null,(0,m.tZ)("th",null,"Name"),(0,m.tZ)("th",null,"Default value"),(0,m.tZ)("th",null,"Description"),n?(0,m.tZ)("th",null,"Introduced in"):"")),(0,m.tZ)("tbody",null,e)):(0,m.tZ)("p",null,"There are no parameters.")))},S=d.ZP.tr(i||(i=(0,Z.Z)([""]))),V=d.ZP.td(o||(o=(0,Z.Z)([""]))),j=d.ZP.td(s||(s=(0,Z.Z)([""]))),E=d.ZP.td(c||(c=(0,Z.Z)([""]))),O=d.ZP.td(p||(p=(0,Z.Z)([""]))),B=function(t){var e=t.children,n=t.name,l=t.defaultValue,r=t.availableFrom,u=void 0===r?"none":r,a=f.useContext(y.P);return(0,m.tZ)(S,null,(0,m.tZ)(V,null,n),(0,m.tZ)(j,null,l),(0,m.tZ)(E,null,e),a?(0,m.tZ)(O,null,u):"")}},8553:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return s}});n(1879);var l=n(387),r=n(7614),u=n(832),a=n(1724),i=(n(7294),n(2275)),o=n(3431);function s(){return(0,o.tZ)(l.Z,null,(0,o.tZ)(r.Z,null,(0,o.tZ)(u.Z,null,(0,o.tZ)("h1",null,"API Reference"),(0,o.tZ)("h2",null,"class DeclaredAPI"),(0,o.tZ)("h3",null,"exposed type RequestType")),(0,o.tZ)(a.ag,null,"Represents the type of express request that has been modified to be typed according to the declaration. This makes it easier to have functions that take the request and do things with it."),(0,o.tZ)(a.l1,null,(0,o.tZ)("p",null,"The exposed types are used with the typeof operator. See the example below for details."),(0,o.tZ)("p",null,"Although the types are presented as fields on the API, they have no runtime value.")),(0,o.tZ)(a.by,null,"There is at this time no way to create partial typed requests objects, which should be helpful for the same purposes."),(0,o.tZ)(a.yV,null,(0,o.tZ)(i.Z,{isRecommendation:!0,variants:{"1.x":(0,o.tZ)(a.en,{label:"Basic usage"},"\n                    import { APIDeclaration } from 'papupata'\n                    const api = new APIDeclaration()\n                    const myAPI = api.declarePostAPI('/do-stuff')\n                      .query(['collection'] as const)\n                      .response<string>()\n\n                    type RequestType = typeof myAPI['RequestType']\n                    // RequestType is now the type of a modified express request\n                  "),"2.x":(0,o.tZ)(a.en,{label:"Basic usage"},"\n                import { APIDeclaration } from 'papupata'\n                const api = new APIDeclaration()\n                const myAPI = api.declarePostAPI('/do-stuff')\n                  .query({collection: String})\n                  .response<string>()\n\n                type RequestType = typeof myAPI['RequestType']\n                // RequestType is now the type of a modified express request\n              ")}}),(0,o.tZ)(a.en,{label:"Practical usage"},"\n            myAPI.implement(req => {\n              return getCollection(req)\n            })\n\n            function getCollection(req: typeof myAPI['RequestType']) {\n              // This function has access to the typed request\n              return collections.get(req.query.collection)\n            }\n          "))))}}}]);
//# sourceMappingURL=component---src-pages-api-declared-api-request-type-tsx-cdb3f158f2ea127c6b78.js.map